[platformio]
src_dir = .
description = CYD Touch Calibration Helper (ESP32-S3)

[env:cyd_touch_calib]
platform = espressif32 @ ^6.8.1
framework = arduino
board = esp32-s3-devkitc-1
upload_speed = 460800
monitor_speed = 115200
monitor_filters = default
lib_deps =
  lovyan03/LovyanGFX@^1.1.16
build_flags =
  -D LGFX_USE_V1
  -D ARDUINO_USB_MODE=1
  -D ARDUINO_USB_CDC_ON_BOOT=1
  ; Panel/touch pinout matches main CYD firmware (S3 module)
  -D CYD_PANEL_ST7789=0
  -D CYD_TFT_SPI_HOST=SPI2_HOST
  -D CYD_TFT_SCLK=12
  -D CYD_TFT_MOSI=11
  -D CYD_TFT_MISO=13
  -D CYD_TFT_DC=46
  -D CYD_TFT_CS=10
  -D CYD_TFT_RST=-1
  -D CYD_TFT_BL=45
  -D CYD_TFT_RGB_ORDER=0
  -D CYD_TOUCH_FT5X06=1
  -D CYD_TOUCH_SDA=16
  -D CYD_TOUCH_SCL=15
  -D CYD_TOUCH_IRQ=17
  -D CYD_TOUCH_X_MIN=0
  -D CYD_TOUCH_X_MAX=240
  -D CYD_TOUCH_Y_MIN=0
  -D CYD_TOUCH_Y_MAX=320
upload_flags =
  --before=default_reset
  --after=no_reset
